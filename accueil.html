<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Bills Production</title>
  <script src="https://unpkg.com/wavesurfer.js"></script>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header>
    <div class="header-container">
      <h1>
        <img src="B.png" alt="Logo" class="logo" />
        <span>ills Production</span>
      </h1>
      <nav>
        <a href="index.html" class="nav-btn">Accueil</a>
        <a href="samples.html" class="nav-btn">Samples</a>
        <a href="remix.html" class="nav-btn">Remix</a>
        <a href="contact.html" class="nav-btn">Contact</a>
      </nav>
    </div>
    <section class="introduction">
      <p>
        Bienvenue sur <strong>Bills Production</strong> üé∂<br />
        Plonge dans mon univers musical o√π chaque son est une exp√©rience unique. Que tu sois artiste, passionn√© ou simple curieux, explore mes beats, samples et remix.
      </p>
      <p><strong>Billy</strong> ‚Äì Producteur | <strong>R√©mi</strong> ‚Äì D√©veloppeur</p>
    </section>
    <div class="search-container">
      <input
        type="text"
        id="searchBar"
        placeholder="Rechercher un son..."
        onkeyup="searchPosts()"
      />
    </div>
  </header>

  <main>
    <section class="publications">
      <p id="noResults" style="display: none; color: red;">Aucun r√©sultat trouv√©.</p>

      <div class="publication" data-title="Bills Type Beat">
        <h2>Bills Type Beat</h2>
        <p>Une prod sombre et lourde avec des 808 puissantes. üî•</p>
        <div class="waveform" id="waveform1"></div>
        <button class="play" data-wave="waveform1" data-src="prod.mp3">‚ñ∂Ô∏è Play</button>
        <a href="prod.mp3" download>T√©l√©charger</a>
      </div>

      <div class="publication" data-title="Raw Tape Vol.1">
        <h2>Raw Tape Vol.1</h2>
        <p>Un son m√©lodique et chill avec une vibe planante. üåä</p>
        <div class="waveform" id="waveform2"></div>
        <button class="play" data-wave="waveform2" data-src="hld2 v2.wav">‚ñ∂Ô∏è Play</button>
        <a href="hld2 v2.wav" download>T√©l√©charger</a>
      </div>
    </section>
  </main>

  <footer>
    <p>&copy; 2025 Bills Production. Tous droits r√©serv√©s.</p>
  </footer>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      let waves = {};
      const files = [
        { id: "waveform1", src: "prod.mp3" },
        { id: "waveform2", src: "hld2 v2.wav" },
      ];

      files.forEach(file => {
        const container = document.getElementById(file.id);
        waves[file.id] = WaveSurfer.create({
          container: "#" + file.id,
          waveColor: "#00aaff",
          progressColor: "white",
          barWidth: 2,
          height: 80,
          normalize: true,
        });
        waves[file.id].load(file.src);

        waves[file.id].on("ready", () => console.log(file.src + " pr√™t"));
        waves[file.id].on("error", err => {
          console.error("Erreur : ", err);
          container.innerHTML = `<p style="color: red;">Erreur de chargement</p>`;
        });
      });

      document.querySelectorAll(".play").forEach(button => {
        button.addEventListener("click", () => {
          const id = button.dataset.wave;
          if (!waves[id]) return;
          if (waves[id].isPlaying()) {
            waves[id].pause();
            button.textContent = "‚ñ∂Ô∏è Play";
          } else {
            waves[id].play();
            button.textContent = "‚è∏Ô∏è Pause";
          }
        });
      });
    });

    function searchPosts() {
      const input = document.getElementById("searchBar").value.toLowerCase();
      const posts = document.querySelectorAll(".publication");
      let found = false;

      posts.forEach(post => {
        const title = post.dataset.title.toLowerCase();
        const visible = title.includes(input);
        post.style.display = visible ? "block" : "none";
        if (visible) found = true;
      });

      document.getElementById("noResults").style.display = found ? "none" : "block";
    }
  </script>
</body>
</html>
